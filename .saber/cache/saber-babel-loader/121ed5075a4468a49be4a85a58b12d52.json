{"ast":null,"code":"function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport './polyfills';\nimport '#cache/runtime-polyfills';\nimport Vue from 'vue';\nimport Meta from 'vue-meta';\nimport layouts from '#cache/layouts';\nimport createRouter from './router';\nimport Layout from './components/LayoutManager.vue';\nimport ClientOnly from './components/ClientOnly';\nimport SaberLink from './components/SaberLink';\nimport extendBrowserApi from '#cache/extend-browser-api';\nimport { join, dirname } from './helpers/path';\nimport injectConfig from './helpers/inject-config';\nimport setTransition from './helpers/set-transition';\nimport scrollHandler from './helpers/scroll-handler';\nVue.config.productionTip = false;\nVue.component(ClientOnly.name, ClientOnly);\nVue.component(Layout.name, Layout);\nVue.component(SaberLink.name, SaberLink);\nVue.use(Meta, {\n  keyName: 'head',\n  attribute: 'data-saber-head',\n  ssrAttribute: 'data-saber-ssr',\n  tagIDKeyName: 'vmid'\n});\nVue.mixin({\n  beforeCreate: function beforeCreate() {\n    this.$saber = this.$root;\n  }\n});\nexport default (function (context) {\n  var router = createRouter();\n  var customHead;\n  var customRootComponent;\n  var rootOptions = {\n    mixins: [],\n    head: function head() {\n      var head = typeof customHead === 'function' ? customHead.call(this, this) : customHead || {};\n\n      var htmlAttrs = _objectSpread({\n        lang: this.$siteConfig.lang\n      }, head.htmlAttrs);\n\n      if (!htmlAttrs.lang) {\n        delete htmlAttrs.lang;\n      }\n\n      return _objectSpread({}, head, {\n        htmlAttrs: htmlAttrs,\n        meta: [{\n          name: 'generator',\n          content: \"Saber v\".concat(__SABER_VERSION__)\n        }].concat(_toConsumableArray(head.meta || []))\n      });\n    },\n    provide: {\n      layouts: layouts\n    },\n    layouts: layouts,\n    router: router,\n    data: function data() {\n      return {\n        transition: null\n      };\n    },\n    mounted: function mounted() {\n      scrollHandler(this.$router, this.$router.currentRoute, this.$router.currentRoute);\n    },\n    render: function render(h) {\n      var _this = this;\n\n      var transition = Object.assign({}, this.transition);\n      var listeners = {};\n      Object.keys(transition).forEach(function (key) {\n        if (typeof transition[key] === 'function') {\n          var kebabKey = key.replace(/([a-z])([A-Z])/, function (_, p1, p2) {\n            return \"\".concat(p1, \"-\").concat(p2.toLowerCase());\n          });\n          listeners[kebabKey] = transition[key];\n          delete transition[key];\n        }\n      });\n      var beforeEnter = listeners['before-enter'];\n\n      listeners['before-enter'] = function (el) {\n        _this.$nextTick(function () {\n          _this.$emit('trigger-scroll');\n        });\n\n        beforeEnter && beforeEnter(el);\n      };\n\n      var children = [h('transition', {\n        props: transition,\n        on: listeners\n      }, [h('router-view')])];\n      return h('div', {\n        attrs: {\n          id: '_saber'\n        }\n      }, [customRootComponent ? h(customRootComponent, {}, children) : children]);\n    },\n    methods: {\n      setTransition: function setTransition(name) {\n        this.transition = name;\n      },\n      getPageLink: function getPageLink(link) {\n        if (typeof link !== 'string' && process.env.NODE_ENV !== 'production') {\n          throw new TypeError(\"Expect link to be a string\");\n        }\n\n        var matched = /^([^#?]+)([#?].*)?$/.exec(link);\n\n        if (!matched) {\n          return link;\n        }\n\n        var relativePath = join(dirname(this.$route.meta.__relative), matched[1]);\n        var extra = matched[2] || '';\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.$router.options.routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var route = _step.value;\n\n            if (route.path === matched[1]) {\n              return link;\n            }\n\n            if (route.meta && route.meta.__relative && relativePath === route.meta.__relative) {\n              return \"\".concat(route.path).concat(extra);\n            }\n          } // Not a page\n\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return undefined;\n      }\n    }\n  };\n\n  var setHead = function setHead(input) {\n    return customHead = input;\n  };\n\n  var setRootComponent = function setRootComponent(input) {\n    return customRootComponent = input;\n  };\n\n  var browserApiContext = {\n    Vue: Vue,\n    router: router,\n    rootOptions: rootOptions,\n    setHead: setHead,\n    setRootComponent: setRootComponent\n  };\n  injectConfig(browserApiContext);\n  extendBrowserApi(browserApiContext); // Set transition after calling `extendBrowserApi`\n  // Because user might use `beforeEach` hook to add progress bar\n\n  setTransition(browserApiContext);\n  var app = new Vue(rootOptions);\n  return {\n    app: app,\n    router: router\n  };\n}); // Reloading browser when following files change\n\nif (module.hot) {\n  module.hot.accept(['#cache/layouts', '#cache/runtime-polyfills'], function () {\n    location.reload();\n  });\n}","map":{"version":3,"sources":["/Users/pence/Desktop/projects/black-000/black-000-2020/node_modules/saber/vue-renderer/app/create-app.js"],"names":["Vue","Meta","layouts","createRouter","Layout","ClientOnly","SaberLink","extendBrowserApi","join","dirname","injectConfig","setTransition","scrollHandler","config","productionTip","component","name","use","keyName","attribute","ssrAttribute","tagIDKeyName","mixin","beforeCreate","$saber","$root","context","router","customHead","customRootComponent","rootOptions","mixins","head","call","htmlAttrs","lang","$siteConfig","meta","content","__SABER_VERSION__","provide","data","transition","mounted","$router","currentRoute","render","h","Object","assign","listeners","keys","forEach","key","kebabKey","replace","_","p1","p2","toLowerCase","beforeEnter","el","$nextTick","$emit","children","props","on","attrs","id","methods","getPageLink","link","process","env","NODE_ENV","TypeError","matched","exec","relativePath","$route","__relative","extra","options","routes","route","path","undefined","setHead","input","setRootComponent","browserApiContext","app","module","hot","accept","location","reload"],"mappings":"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","sourcesContent":["import './polyfills'\nimport '#cache/runtime-polyfills'\nimport Vue from 'vue'\nimport Meta from 'vue-meta'\nimport layouts from '#cache/layouts'\nimport createRouter from './router'\nimport Layout from './components/LayoutManager.vue'\nimport ClientOnly from './components/ClientOnly'\nimport SaberLink from './components/SaberLink'\nimport extendBrowserApi from '#cache/extend-browser-api'\nimport { join, dirname } from './helpers/path'\nimport injectConfig from './helpers/inject-config'\nimport setTransition from './helpers/set-transition'\nimport scrollHandler from './helpers/scroll-handler'\n\nVue.config.productionTip = false\n\nVue.component(ClientOnly.name, ClientOnly)\nVue.component(Layout.name, Layout)\nVue.component(SaberLink.name, SaberLink)\n\nVue.use(Meta, {\n  keyName: 'head',\n  attribute: 'data-saber-head',\n  ssrAttribute: 'data-saber-ssr',\n  tagIDKeyName: 'vmid'\n})\n\nVue.mixin({\n  beforeCreate() {\n    this.$saber = this.$root\n  }\n})\n\nexport default context => {\n  const router = createRouter()\n\n  let customHead\n  let customRootComponent\n\n  const rootOptions = {\n    mixins: [],\n    head() {\n      const head =\n        typeof customHead === 'function'\n          ? customHead.call(this, this)\n          : customHead || {}\n\n      const htmlAttrs = {\n        lang: this.$siteConfig.lang,\n        ...head.htmlAttrs\n      }\n\n      if (!htmlAttrs.lang) {\n        delete htmlAttrs.lang\n      }\n\n      return {\n        ...head,\n        htmlAttrs,\n        meta: [\n          {\n            name: 'generator',\n            content: `Saber v${__SABER_VERSION__}`\n          },\n          ...(head.meta || [])\n        ]\n      }\n    },\n    provide: {\n      layouts\n    },\n    layouts,\n    router,\n    data() {\n      return {\n        transition: null\n      }\n    },\n    mounted() {\n      scrollHandler(\n        this.$router,\n        this.$router.currentRoute,\n        this.$router.currentRoute\n      )\n    },\n    render(h) {\n      const transition = Object.assign({}, this.transition)\n      const listeners = {}\n      Object.keys(transition).forEach(key => {\n        if (typeof transition[key] === 'function') {\n          const kebabKey = key.replace(\n            /([a-z])([A-Z])/,\n            (_, p1, p2) => `${p1}-${p2.toLowerCase()}`\n          )\n          listeners[kebabKey] = transition[key]\n          delete transition[key]\n        }\n      })\n      const beforeEnter = listeners['before-enter']\n      listeners['before-enter'] = el => {\n        this.$nextTick(() => {\n          this.$emit('trigger-scroll')\n        })\n        beforeEnter && beforeEnter(el)\n      }\n      const children = [\n        h(\n          'transition',\n          {\n            props: transition,\n            on: listeners\n          },\n          [h('router-view')]\n        )\n      ]\n      return h('div', { attrs: { id: '_saber' } }, [\n        customRootComponent ? h(customRootComponent, {}, children) : children\n      ])\n    },\n    methods: {\n      setTransition(name) {\n        this.transition = name\n      },\n\n      getPageLink(link) {\n        if (typeof link !== 'string' && process.env.NODE_ENV !== 'production') {\n          throw new TypeError(`Expect link to be a string`)\n        }\n\n        const matched = /^([^#?]+)([#?].*)?$/.exec(link)\n\n        if (!matched) {\n          return link\n        }\n\n        const relativePath = join(\n          dirname(this.$route.meta.__relative),\n          matched[1]\n        )\n        const extra = matched[2] || ''\n        for (const route of this.$router.options.routes) {\n          if (route.path === matched[1]) {\n            return link\n          }\n          if (\n            route.meta &&\n            route.meta.__relative &&\n            relativePath === route.meta.__relative\n          ) {\n            return `${route.path}${extra}`\n          }\n        }\n\n        // Not a page\n        return undefined\n      }\n    }\n  }\n\n  const setHead = input => (customHead = input)\n  const setRootComponent = input => (customRootComponent = input)\n\n  const browserApiContext = {\n    Vue,\n    router,\n    rootOptions,\n    setHead,\n    setRootComponent\n  }\n\n  injectConfig(browserApiContext)\n  extendBrowserApi(browserApiContext)\n  // Set transition after calling `extendBrowserApi`\n  // Because user might use `beforeEach` hook to add progress bar\n  setTransition(browserApiContext)\n\n  const app = new Vue(rootOptions)\n\n  return {\n    app,\n    router\n  }\n}\n\n// Reloading browser when following files change\nif (module.hot) {\n  module.hot.accept(['#cache/layouts', '#cache/runtime-polyfills'], () => {\n    location.reload()\n  })\n}\n"]},"metadata":{},"sourceType":"module"}